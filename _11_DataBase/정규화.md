# 정규화 

## 정규화

데이터베이스를 잘못 설계(관련이 없는 데이터끼리 모아둠)하면 불필요한 데이터 중복이 발생하여 릴레이션에 대한 데이터 삽입, 수정, 삭제 연산 시 부작용이 발생할 수 있다. 이러한 부작용을 이상(anomaly)현상이라고 한다. 이상 현상을 제거해나가면서 올바르게 설계해 나가는 과정이 `정규화`다.


## 이상 현상

### 삽입 이상(insertion anomaly)
- 새 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야하는 문제



### 갱신 이상
- 중복 튜플 중 일부만 변경하여 데이터가 불일치하게 되는 모순의 문제



### 삭제 이상
- 투플을 삭제하면 꼭 필요한 데이터까지 함께 삭제되는 데이터 손실의 문제

## 함수 종속 

- 정규화를 수행하려면 먼저 릴레이션을 구성하는 속성들 간의 관련성을 판단할 수 있어야한다. 
- 정규화 과정에서 고려해야하는 속성들 간의 관련성을 `함수적 종속성`(이하 함수 종속성) 이라고 한다.
- 일반적으로 **릴레이션에 함수적 종속성이 하나 존재하도록 정규화**를 통해 릴레이션을 분해한다.


### 함수적으로 종속되어있다

릴레이션을 구성하는 속성들의 부분집합을 X, Y라 할 때, 어느 시점에서든 릴레이션 내의 모든 튜플에서 하나의 X값에 대한 Y값이 항상 하나면 X가 Y를 함수적으로 결정한다. 또는 Y가 X에 함수적으로 종속되어있다. 라고 한다. 



## 기본 정규형과 정규화 과정

**정규화 개념**

: 함수 종속성을 이용하여 **릴레이션을 연관성이 있는 속성들로만 구성되도록 분해**해서, 이상 현상이 발생하지 않는 올바른 릴레이션으로 만들어나가는 과정을 `정규화`라고 한다.

: 정규화의 기본 목표는 관련이 없는 함수 종속성은 별개의 릴레이션으로 표현하는 것이다.  

- 기본 정규형: 제 1, 2, 3 정규형 + 보이스 코드 정규형
- 고급 정규형: 제 4, 5 정규형

### 제1 정규형

> **_릴레이션에 속한 모든 속성의 도메인이 원자 값으로만 이루어져 있으면 제1 정규형에 속한다._**


### 제2 정규형

> **_릴레이션이 제1 정규형에 속하고, 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속되면 제 2 정규형에 속한다._**

### 제3 정규형

> 릴레이션이 제2 정규형에 속하고, 기본키가 아닌 모든 속성이 기본키에 이행적 함수 종속이 되지 않으면 제3 정규형에 속한다.

### 보이스/코드 정규형

### 제4 정규형과 제5 정규형


※ Reference

- 데이터베이스 개론 2판 - 김연희 저
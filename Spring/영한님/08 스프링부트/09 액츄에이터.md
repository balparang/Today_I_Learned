<!-- TOC -->
* [다양한 엔드 포인트](#다양한-엔드-포인트)
<!-- TOC -->

# 다양한 엔드 포인트

> 전체 엔드포인트 목록 <br>
> https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints

## 엔드 포인트 목록

- `beans` : 스프링 컨테이너에 등록된 스프링 빈을 보여준다.
- `conditions` : `condition` 을 통해서 빈을 등록할 때 평가 조건과 일치하거나 일치하지 않는 이유를 표- 시한다.
- `configprops` : `@ConfigurationProperties` 를 보여준다.
- `env` : `Environment` 정보를 보여준다.
- `health` : 애플리케이션 헬스 정보를 보여준다.
- `httpexchanges` : HTTP 호출 응답 정보를 보여준다. `HttpExchangeRepository` 를 구현한 빈을 별
- 도로 등록해야 한다.
- `info` : 애플리케이션 정보를 보여준다.
- `loggers` : 애플리케이션 로거 설정을 보여주고 변경도 할 수 있다.
- `metrics` : 애플리케이션의 메트릭 정보를 보여준다.
- `mappings` : `@RequestMapping` 정보를 보여준다.
- `threaddump` : 쓰레드 덤프를 실행해서 보여준다.
- `shutdown` : 애플리케이션을 종료한다. 이 기능은 **기본으로 비활성화** 되어 있다.

---

# 헬스 정보

> 자세한 헬스 기본 정보
> https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.health.auto-configured-health-indicators


- 헬스 정보를 사용하면 애플리케이션에 문제가 발생했을 때 문제를 빠르게 인지 가능
- `http://localhost:8080/actuator/health`

```json
# 기본 리턴 정보
{"status": "UP"}
```

## 자세한 헬스 정보

```yaml
 management:
   endpoint:
     health:
      show-details: always
```
```json
{
    "status": "UP",
    "components": {
        "db": {
            "status": "UP",
            "details": {
                "database": "H2",
                "validationQuery": "isValid()"
            }
        },
        "diskSpace": {
            "status": "UP",
            "details": {
                "total": 494384795648,
                "free": 233289097216,
                "threshold": 10485760,
                "path": "/Users/shkim/study/Today-I-Learned/Spring/projects/kimyounghan/spring-boot/spring-boot-actuator/.",
                "exists": true
            }
        },
        "ping": {
            "status": "UP"
        }
    }
}
```

- validationQuery: JDBC 드라이버에서 DB 살아있는지 확인하는 기능

### 너무 상세한 정보는 부담스러울 경우
  
```yaml
 management:
   endpoint:
     health:
      show-components: always
```
```json
{
    "status": "UP",
    "components": {
        "db": {
            "status": "UP"
        },
        "diskSpace": {
            "status": "UP"
        },
        "ping": {
            "status": "UP"
        }
    }
}
```

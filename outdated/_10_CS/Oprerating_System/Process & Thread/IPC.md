# IPC(Inter-Process Communication)

- 프로세스는 각자 자신만의 독립적인 주소공간을 갖고, 다른 프로세스가 이 주소공간을 참조하는 것을 허용하지 않는다. 따라서 다른 프로세스와 데이터를 주고받을 수 없다.
- 이를 해결하고자 운영체제는 IPC기법을 통해 프로세스들 간에 데이터 통신을 가능케한다.
- IPC 통신 방법에는 `공유 메모리`와 `메시지 전달 방식` 두 가지 모델이 있다.

### 공유 메모리(Shared Memory)

![](https://velog.velcdn.com/images/balparang/post/d3f2138e-c4bd-4e5c-b0d1-0b6788ee09b1/image.png)

- 공유 메모리 방식에서는 프로세스들이 주소 공간의 일부를 공유한다.
- 공유한 메모리 영역에 읽기/쓰기 작업을 통해 통신한다.
- 프로세스가 공유 메모리 할당을 커널에게 요청하면 커널은 해당 프로세스에 메모리 공간을 할당해준다.
- 공유 메모리 영역이 할당된 이후에는 모든 접근이 일반적인 메모리 접근으로 취급되기 때문에, 더 이상 커널의 도움없이도 프로세스들이 공유 메모리 영역에 접근 가능하다.
  - ***따라서 커널의 관여 없이 데이터 통신이 가능하기 때문에 IPC 속도가 빠르다***는 장점이 있다.
- 공유 메모리 방식은 프로세스 들간의 통신을 수월하게 만들지만, ***동시에 같은 메모리 위치에 접근하게 되면 일관성 문제가 발생***할 수 있다.
  - 이에 대해서는 커널이 관여하지 않기 때문에 프로세스들끼리 직접 공유 메모리 접근에 대한 동기화 문제를 책임져야한다. 

> 커널: 프로세스들이 하드웨어 등의 자원에 접근을 제어하는 인터페이스 역할. 운영체제 기능 중에 항상 메모리에 상주한다. 

### 메시지 전달 방식(Message Passing)

- 메시지 전달 방법은 일반적으로 `System Call` 을 사용하여 구현된다.
- `System Call`: 커널을 통해 `send`(message)와 `receive`(message)라는 두 가지 연산을 제공받는다.
  - process1이 커널을 통해 메시지를 보내면 커널이 process2에게 메시지를 보내주는 방식으로 동작한다.
- 공유 메모리 방식보다 속도는 느리지만, _**충돌을 회피할 필요가 없기 때문에**_ 적은 양의 데이터를 교환하는 데 유용하다.
  - 안전하고 _**커널이 동기화를 제공**_.
- 파이프, 소켓, 메시지 큐 등이 있다.